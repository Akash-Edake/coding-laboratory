(self.webpackChunklite=self.webpackChunklite||[]).push([[5423],{85282:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const o=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},78319:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const o=function(e){return t.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),l)}},41190:(e,n,i)=>{"use strict";i.d(n,{C:()=>v,F:()=>p});var t=i(319),a=i.n(t),l=i(22412),o=i(62549),d=i(82864),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(a()(o.t.definitions),a()(d.W.definitions))},s=i(93403),m=i(15855),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}}]}}].concat(a()(s.z.definitions),a()(m.E.definitions))},u=i(56785),k=i(51277),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(l.p.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(r.definitions),a()(c.definitions),a()(u.V.definitions),a()(k.v.definitions))}},96857:(e,n,i)=>{"use strict";i.d(n,{O:()=>Q});var t=i(67294),a=i(46510),l=i(91743),o=i(54701),d=i(1444),r=i(75399),s=i(77355),m=i(66411),c=function(e){var n=e.post,i=e.source;return t.createElement(t.Fragment,null,t.createElement(r.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"4px"}),t.createElement(s.x,{margin:"0 4px 0 28px",display:"flex",alignItems:"center"},t.createElement(m.cW,{source:{name:i}},t.createElement(d.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))))},u=function(e){var n=e.post,i=e.source;return t.createElement(s.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},t.createElement(s.x,{marginRight:"16px"},t.createElement(m.cW,{source:{name:i}},t.createElement(d.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),t.createElement(r.U,{post:n,source:i,useSubtleShareButtons:!0,spacing:"12px"}))},k=i(9419),p=i(63459),v=i(18704),f=i(34796),V=i(46829),g=i(63038),S=i.n(g),N=i(68356),F=i.n(N),h=i(99323),E=i(10374),y=i(6443),x=i(96370),b=i(47230),P=i(87691),w=i(18627),_=i(14646),A=i(50742),T=i(85282),C=i(78319),I=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},R=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},D=F()({loader:function(){return i.e(6391).then(i.bind(i,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var n=e.children;return t.createElement(t.Fragment,null,n)},render:(0,A.n)("SpeechifyWidget")}),B=t.forwardRef((function(e,n){var i=e.postId,a=e.postBodyRef,l=e.isLockedPreviewOnly,o=(0,_.I)(),d=(0,w.Av)(),r=(0,y.H)().value,m=!(null==r||!r.mediumMemberAt),c=(0,h.sK)().expandedPostId,u=(0,E.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,k=(0,t.useState)(!0),p=S()(k,2),v=p[0],f=p[1];t.useEffect((function(){return d.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),f(!0)}),[u,c]);var V=!m&&l;return t.createElement(s.x,{display:"inline-flex",alignItems:"center",boxSizing:"border-box"},t.createElement(s.x,{flexGrow:"1"},t.createElement(x.P,{size:"full"},t.createElement("div",{ref:n},V?null:v?t.createElement(b.z,{onClick:function(){if(v){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",f(!1)}},className:o(I)},t.createElement(C.Z,{className:o(R)}),t.createElement(P.F,{scale:"M",color:"ACCENT"},"Listen")):t.createElement(D,{postId:i,buttonStyle:I,audioIconStyle:R,postBodyRef:a},t.createElement(b.z,{className:o(I)},t.createElement(T.Z,{className:o(R)}),t.createElement(P.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),M=i(73279),L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},U=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(M.O,null))},O=function(e){var n,i,a,l,o=e.postId,d=e.postBodyRef,r=e.isLockedPreviewOnly,s=e.isPublished,m=(0,V.useQuery)(L,{variables:{postId:o}}),c=m.data,u=m.error,k=m.loading;if(!o||k||u)return null;var p=null!==(n=null==c||null===(i=c.post)||void 0===i?void 0:i.wordCount)&&void 0!==n?n:0,v=null!==(a=null==c||null===(l=c.post)||void 0===l?void 0:l.detectedLanguage)&&void 0!==a?a:"";return!s||s&&"en"===v&&p>20?t.createElement(t.Fragment,null,t.createElement(U,null),t.createElement(B,{postId:o,postBodyRef:d,isLockedPreviewOnly:r})):null},H=i(25735),z=function(){return t.createElement(s.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},t.createElement(M.O,null))},W=function(e){var n=e.showStar,i=e.post,a=e.postBodyRef,l=e.isLockedPreviewOnly,o=i.firstPublishedAt,d=i.readingTime,r=(0,H.VB)({name:"enable_speechify_widget",placeholder:!1});return t.createElement(t.Fragment,null,Boolean(o)&&t.createElement(t.Fragment,null,t.createElement(P.F,{scale:"M",playwrightClassName:"pw-published-date"},t.createElement(p.E,{timestamp:o})),t.createElement(z,null)),t.createElement(v.N,{scale:"M",tag:"div",readingTime:d}),n&&t.createElement(k.U,{padding:"0 0 0 6px",post:i,scale:"M"}),!o&&t.createElement(t.Fragment,null,t.createElement(z,null),t.createElement(P.F,{color:"DARKER",scale:"M"},t.createElement(f.FV,{post:i}))),r&&t.createElement(t.Fragment,null,t.createElement(O,{postId:i.id,postBodyRef:a,isLockedPreviewOnly:l,isPublished:!!o})))},Q=function(e){var n=e.post,i=e.creator,d=e.postBodyRef,r=e.isLockedPreviewOnly,s=void 0!==r&&r,m=e.showInResponseToEntityPreview,k=void 0!==m&&m,p=e.showStar,v=void 0!==p&&p,f=e.viewerId,V=e.playwrightClassName;if(!i)return null;var g="post_actions_header";return t.createElement(a.c,{creator:i,viewerId:f,playwrightClassName:V,entityInfos:t.createElement(W,{post:n,showStar:v,postBodyRef:d,isLockedPreviewOnly:s}),desktopActionsButtons:t.createElement(c,{post:n,source:g}),mobileActionsButtons:t.createElement(u,{post:n,source:g}),menuActionsButton:t.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"}),responseToEntityPreview:k&&t.createElement(o.h,{padding:"24px 0 0",post:n,postPreviewMarginBottom:40})})}},22836:(e,n,i)=>{"use strict";i.d(n,{l:()=>m});var t=i(67294),a=i(68427),l=i(71652),o=i(77355),d=i(96370),r=i(93310),s=i(87691),m=function(e){var n=e.collection,i=n.name,m=(0,a.R)(n);return t.createElement(o.x,{borderBottom:"BASE_LIGHTER"},t.createElement(d.P,{size:"app"},t.createElement(o.x,{display:"flex",alignItems:"center",height:"56px"},t.createElement(o.x,{marginRight:"16px"},t.createElement(r.r,{href:m},t.createElement(l.v,{collection:n,size:32,circular:!0}))),t.createElement(o.x,{marginRight:"3px",flexShrink:"0"},t.createElement(s.F,{scale:"M",color:"LIGHTER",tag:"div"},"Published in")),t.createElement(r.r,{href:m},t.createElement(s.F,{scale:"M",color:"DARKER",clamp:1},i)))))}},22412:(e,n,i)=>{"use strict";i.d(n,{p:()=>m});var t=i(319),a=i.n(t),l=i(68216),o=i(54341),d=i(93961),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(o.O.definitions),a()(l.$m.definitions),a()(d.u.definitions))},s=i(27048),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(l.$m.definitions),a()(r.definitions),a()(s.W.definitions))}},46510:(e,n,i)=>{"use strict";i.d(n,{c:()=>p});var t=i(67294),a=i(84739),l=i(55155),o=i(28695),d=i(77355),r=i(26244),s=i(93310),m=i(87691),c=function(e){var n=e.creator,i=e.viewerId,c=(0,a.B)(n);return t.createElement(m.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},t.createElement(d.x,{display:"flex",flexDirection:"row",marginBottom:"4px"},t.createElement(r.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return t.createElement(o.K,{user:n})}},t.createElement(s.r,{href:c},n.name)),n.id!==i&&t.createElement(d.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"inline-block",xl:"none"},paddingLeft:"12px"},t.createElement(l.D,{publisher:n,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},u=i(17193),k=i(30020),p=function(e){var n=e.creator,i=e.playwrightClassName,l=e.entityInfos,o=e.viewerId,r=e.desktopActionsButtons,m=e.mobileActionsButtons,p=e.menuActionsButton,v=e.responseToEntityPreview,f=e.headerRef,V=e.marginBottom,g=void 0===V?{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"}:V,S=e.hasMenuActionsTooltip,N=void 0===S||S,F=(0,a.B)(n);return t.createElement(d.x,{ref:f,marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:g,tag:"header",playwrightClassName:i},t.createElement(d.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},t.createElement(d.x,{display:"flex"},t.createElement(d.x,{marginRight:"16px"},t.createElement(s.r,{href:F},t.createElement(u.Yt,{scale:"M",user:n,withHalo:!1}))),t.createElement(d.x,null,t.createElement(c,{creator:n,viewerId:o}),t.createElement(d.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},l))),t.createElement(d.x,{display:"flex",alignItems:"center"},t.createElement(d.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},r),t.createElement(d.x,{display:"inline-flex",marginLeft:"16px"},N?t.createElement(k._,{tooltipText:"More",targetDistance:10},p):p))),m,v)}},93961:(e,n,i)=>{"use strict";i.d(n,{u:()=>o});var t=i(319),a=i.n(t),l=i(81712),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(l.f.definitions))}},34492:(e,n,i)=>{"use strict";i.d(n,{I:()=>k});var t,a=i(59713),l=i.n(a),o=i(67294);!function(e){e.S="S",e.L="L"}(t||(t={}));var d=i(77355),r=i(9935),s=i(87691),m=i(14646),c=i(97489),u=i(14804),k=function(e){var n=e.children,i=e.scale,a=void 0===i?t.L:i,k=e.alpha,p=void 0===k?.05:k,v=e.verticalMargins,f=void 0===v?{normal:"24px",small:"24px"}:v,V=e.horizontalMargins,g=void 0===V?{normal:"-16px",small:"-12px 0"}:V,S=e.dismissable,N=e.onClick,F=e.maxWidth,h=void 0===F?"740px":F,E=(0,m.I)();return o.createElement("div",{className:E((function(e){return l()({background:(0,u.Uy)(p),borderRadius:"4px",margin:"".concat(f.small," ").concat(g.small),position:"relative"},c.xl(e),{margin:"".concat(f.normal," ").concat(g.normal)})}))},o.createElement(d.x,{display:"flex",justifyContent:"space-between",maxWidth:h,padding:"16px",sm:{padding:"12px"}},o.createElement(s.F,{scale:a,color:"DARKER"},n),S&&N&&o.createElement(r.P,{onClick:N,size:"REGULAR",isPositionAbsolute:!1,compensateInnerPadding:!0,"data-testid":"close-button"})))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>a,b:()=>l});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(t)()(a.definitions))}},1951:(e,n,i)=>{"use strict";i.d(n,{g:()=>o,t:()=>d});var t=i(67294),a=i(9354),l=i(75880),o=function(e){var n=e.creator,i=d(n);return n?i:{value:!1}},d=function(e){var n,i,o,d=(0,l.Pd)(e),r=d.viewerEdge,s=d.loading,m=t.useRef(null),c=(0,a.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),u=c.viewerEdge,k=c.loading;return(o=null!==m.current?{value:m.current}:s||k?{loading:!0}:null!=e&&null!==(i=e.newsletterV3)&&void 0!==i&&i.showPromo?{value:!(!(null!=r&&r.isUser||null==u)&&u.isSubscribed)}:{value:!1}).loading||void 0===o.value||null!==m.current||(m.current=o.value),o}},18704:(e,n,i)=>{"use strict";i.d(n,{N:()=>m});var t=i(28655),a=i.n(t),l=i(71439),o=i(67294),d=i(87691),r=i(21372);function s(){var e=a()(["\n  fragment PostListingReadingTime_post on Post {\n    readingTime\n  }\n"]);return s=function(){return e},e}function m(e){var n=e.readingTime,i=e.scale,t=void 0===i?"S":i,a=e.includeRead,l=void 0===a||a,s=e.color,m=e.tag,c=void 0===m?"span":m,u=l?" read":"";return o.createElement(d.F,{scale:t,color:s,tag:c,playwrightClassName:"pw-reading-time"},"".concat((0,r.Vd)(n||0)," min").concat(u))}(0,l.Ps)(s())},28096:(e,n,i)=>{"use strict";i.d(n,{X:()=>u,Z:()=>c});var t=i(319),a=i.n(t),l=i(31289),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(a()(l.G.definitions))},d=i(78620),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(a()(d.H.definitions))},s=i(20121),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(a()(r.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(s.qt.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),a()(o.definitions),a()(m.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}}]}}]))}},28750:(e,n,i)=>{"use strict";i.d(n,{m:()=>de});var t=i(67294),a=i(50008),l=i.n(a),o=i(63038),d=i.n(o),r=i(27517),s=i(28655),m=i.n(s),c=i(71439),u=i(23450),k=i.n(u),p=i(34492),v=i(77355),f=function(e){var n=e.link,i=e.text,a=e.verticalMargins;return t.createElement(p.I,{verticalMargins:a},i," ",t.createElement(v.x,{display:"inline",whiteSpace:"nowrap"},n))},V=i(36405),g=i(6443),S=i(28451),N=i(43822),F=i(18627),h=i(66411),E=i(90924),y=i(43487),x=i(50458);function b(){var e=m()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return b=function(){return e},e}var P=function(e){var n=e.meterCount,i=e.meterLimit,a=e.post,l=(0,g.H)().value,o=(0,F.Av)(),d=null==l?void 0:l.isMembershipTrialEligible,r=!(!(0,V.P5)("enable_trial_upsell")||!d);t.useEffect((function(){o.event("meter.viewed",{uiType:S.j.LIHighlightCTA,postId:a.id,meterCount:n,userId:null==l?void 0:l.id}),d&&o.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var s,m=(0,y.v9)((function(e){return e.config.authDomain})),c=t.createElement(E.M,{tag:"span"},t.createElement(N.a,{linkStyle:"OBVIOUS",post:a,inline:!0,redirectUrl:(0,x.c5p)(m)},r?"Start your free trial":"Upgrade for unlimited access."));return t.createElement(h.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:a.id}},t.createElement(f,{text:(s=i-n,s<=0?t.createElement(t.Fragment,null,"This is your ",t.createElement("b",null,"last")," free member-only story this month."):t.createElement(t.Fragment,null,"You have ",t.createElement("b",null,s)," free member-only ",k()("story",s)," left this month.")),link:c}))},w=((0,c.Ps)(b(),N.H),i(26350)),_=function(e){switch(e){case 0:return t.createElement(t.Fragment,null,"This is your ",t.createElement("b",null,"last")," free member-only story this month.");case 1:case 2:return t.createElement(t.Fragment,null,"You have ",t.createElement("b",null,e)," free member-only stor",1===e?"y":"ies"," left this month.");default:return t.createElement(t.Fragment,null,"You've read all your free member-only stories this month.")}},A=function(e){var n=e.post,i=e.meteringInfo,a=i.postIds?i.postIds.length:0,l=null===i.unlocksRemaining?0:i.unlocksRemaining,o=(0,y.v9)((function(e){return e.config.productName})),d=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";case 2:default:return"smart_meter"}}(l),r=(0,F.Av)();t.useEffect((function(){r.event("meter.viewed",{uiType:S.j.LOHighlightCTA,postId:n.id,meterCount:a})}),[]);var s=t.createElement(w.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:d},"Sign up for ".concat(o," and get an extra one"));return t.createElement(h.cW,{source:{postId:n.id}},t.createElement(f,{text:_(l),link:s,verticalMargins:{normal:"24px",small:"16px"}}))},T=(i(59713),i(9273)),C=i(87498);function I(){var e=m()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return I=function(){return e},e}(0,c.Ps)(I(),T.Q);var R=i(14646),D=i(80872),B=i(54712),M=i(98067),L=function(e){var n=e.meteringInfo,i=e.post,a=e.viewer,l=n.maxUnlockCount||3,o=n.postIds.length;return o<=l?(0,D.sy)()&&function(e){return e&&e.createdAt+C.pU>Date.now()}(a)?((0,D.Of)(),null):t.createElement(P,{meterCount:o,post:i,meterLimit:l}):null},U=function(e){var n=e.post,i=e.meteringInfo;switch(i.unlocksRemaining){case 0:case 1:case 2:return t.createElement(A,{post:n,meteringInfo:i});default:return null}},O=function(e){var n=e.meteringInfo,i=e.post,a=(0,r.I0)(),o=(0,R.I)(),s=(0,B.xg)(),m=t.useState(!1),c=d()(m,2),u=c[0],k=c[1];t.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":l()(document))&&k(!0),a((0,M.Dl)(!1))}),[]);var p=(0,g.H)(),v=p.loading,f=p.error,V=p.value;if(v||f)return t.createElement(t.Fragment,null);var S=V&&V.mediumMemberAt||void 0,N=i&&i.creator&&i.creator.id||void 0,F=V&&V.id||void 0,h=V?S||N===F:"LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,E=!u||!i.isLocked||!n.postIds.includes(i.id)||h,y=u&&!E,x={height:y?"100%":"0px",overflow:y?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},b=V?t.createElement(L,{meteringInfo:n,post:i,viewer:V}):t.createElement(U,{post:i,meteringInfo:n});return t.createElement("div",{className:s?o(x):void 0},!E&&b)},H=i(46829),z=i(81978),W=i(93310),Q=i(87691),j=i(75221).T3.IMPORT_AWARENESS_BANNER,Y=function(e){var n=e.viewer,i=e.loading,a=(0,y.v9)((function(e){return e.config.authDomain})),l=!(null==n||!n.dismissableFlags.includes(j)),o=(null==n?void 0:n.id)||"",r=(0,H.useMutation)(z.a,{variables:{userId:o,flag:j}}),s=d()(r,1)[0];return i||l?null:t.createElement(t.Fragment,null,t.createElement(p.I,{dismissable:!0,onClick:s},t.createElement(Q.F,{scale:"L",color:"DARKER",tag:"span"},t.createElement("strong",null,"New!")," You can now import subscribers into your email list."," "),t.createElement(W.r,{inline:!0,linkStyle:"SUBTLE",href:(0,x.sBN)(a)},t.createElement(Q.F,{scale:"L",color:"ERROR",tag:"span"},"Start an import."))))};function G(){var e=m()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return G=function(){return e},e}(0,c.Ps)(G());var K=function(e){var n=e.collection,i=(0,y.v9)((function(e){return e.config.authDomain})),a=n.newsletterV3||{id:"",slug:"",name:""},l=(0,x.iBn)(a.slug,i,n),o=function(){return t.createElement(W.r,{inline:!0,linkStyle:"OBVIOUS",href:l},a.name)};return t.createElement(t.Fragment,null,t.createElement(p.I,null,n.newsletterV3?t.createElement(t.Fragment,null,"This is an email from ",t.createElement(o,null),", a newsletter by ",n.name,"."):t.createElement(t.Fragment,null,"This is an email from ",n.name,".")))},X=i(5977),$=i(9935),Z=i(68894),q=function(e){var n=e.children,i=e.onHide,a=(0,Z.O)(!0),l=d()(a,3),o=l[0],r=l[2],s=t.useCallback((function(){r(),null==i||i()}),[i]);return o?t.createElement(v.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},t.createElement(Q.F,{scale:"L",color:"DARKER"},n),t.createElement($.P,{onClick:s,isPositionAbsolute:!1,size:"REGULAR"})):null},J=i(77280),ee=i(39202);function ne(){var e=m()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function ie(){var e=m()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return ie=function(){return e},e}var te=function(e){var n,i,a,l,o,r=e.post,s=(0,y.v9)((function(e){return e.navigation.referrer})),m=(0,X.TH)().hash,c=(0,J.G1)(),u=(0,J.PM)(),k=(0,H.useLazyQuery)(ae,{variables:{postId:null==r?void 0:r.id,postMeteringOptions:{referrer:s,sk:c,source:u}},ssr:!1}),p=d()(k,2),f=p[0],V=p[1],g=V.called,S=V.loading,N=V.error,F=V.data,h=null==m||null===(n=m.replace("#",""))||void 0===n?void 0:n.split("-"),E=d()(h,2),x=E[0],b=E[1],P=(null!=F?F:{}).post,w=null==P||null===(i=P.privateNotes)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===b})),_=null!==(a=null==P||null===(l=P.content)||void 0===l||null===(o=l.bodyModel)||void 0===o?void 0:o.paragraphs)&&void 0!==a?a:[],A=new Set(_.map((function(e){return e.name})).filter(ee.b)),T=!!w&&A.has(x),C=(0,Z.O)(!!b&&!T),I=d()(C,3),R=I[0],D=I[1],B=I[2];return t.useEffect((function(){b&&!T?D():B()}),[T]),!g&&b&&f(),S||N||!R?null:t.createElement(v.x,{marginTop:"64px"},t.createElement(q,{onHide:B},"The note you're looking for was deleted"))},ae=((0,c.Ps)(ie()),(0,c.Ps)(ne())),le=i(98863),oe=i(52278),de=function(e){var n,i=e.meteringInfo,a=e.post,l=(0,le.f)().isWorkingPreview,o=(0,g.H)(),d=o.value,r=o.loading,s=(null==d?void 0:d.id)===(null===(n=a.creator)||void 0===n?void 0:n.id)&&(null==d?void 0:d.isEligibleToImportEmails);return t.createElement(oe.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},t.createElement(te,{post:a}),s&&!l&&t.createElement(Y,{viewer:d,loading:r}),a.isNewsletter&&!!a.collection&&t.createElement(K,{collection:a.collection}),!!a.isLocked&&!!i&&t.createElement(O,{meteringInfo:i,post:a}))}},82366:(e,n,i)=>{"use strict";i.d(n,{bj:()=>N,O9:()=>S});var t=i(319),a=i.n(t),l=i(57624),o=i(89748),d=i(95538),r=i(19945),s=i(93403),m=i(46786),c=i(10654),u=i(51277),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(r.D.definitions),a()(s.z.definitions),a()(m.u.definitions),a()(c.x.definitions),a()(u.v.definitions))},p=i(56785),v=i(69724),f=i(43992),V=i(22447),g=i(77878),S=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}].concat(a()(l.Y.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_user"}}]}}].concat(a()(o.br.definitions))}),N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_postPreview"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadMore_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityPreview_post"}}]}}].concat(a()(S.definitions),a()(o.We.definitions),a()(d.m.definitions),a()(o.yu.definitions),a()(k.definitions),a()(p.V.definitions),a()(v.k.definitions),a()(f.q.definitions),a()(V.U.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostmergeContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}}]}}].concat(a()(g.RF.definitions))},55155:(e,n,i)=>{"use strict";i.d(n,{D:()=>m,f:()=>c});var t=i(28655),a=i.n(t),l=i(71439),o=i(67294),d=i(82405),r=i(32317);function s(){var e=a()(["\n  fragment PublisherFollowButton_publisher on Publisher {\n    __typename\n    ... on Collection {\n      ...CollectionFollowButton_collection\n    }\n    ... on User {\n      ...UserFollowButton_user\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var m=function(e){var n=e.publisher,i=e.buttonSize,t=e.isLinkStyle,a=void 0!==t&&t,l=e.susiEntry,s=e.width;return"Collection"===n.__typename?o.createElement(d.Fp,{buttonSize:i,collection:n,susiEntry:l}):o.createElement(r.Bv,{buttonSize:i,user:n,isLinkStyle:a,susiEntry:l,width:s})},c=(0,l.Ps)(s(),d.Iq,r.sj)},54878:(e,n,i)=>{"use strict";i.d(n,{v$:()=>u,G8:()=>k,Ps:()=>p,Kc:()=>v});var t=i(28655),a=i.n(t),l=i(71439),o=i(67294),d=i(31889),r=i(98096),s=i(3207);function m(){var e=a()(["\n  fragment CustomThemeProvider_customStyleSheet on CustomStyleSheet {\n    id\n    ...customDefaultBackgroundTheme_customStyleSheet\n    ...customStyleSheetFontTheme_customStyleSheet\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function c(){var e=a()(["\n  fragment CustomThemeProvider_publisher on Publisher {\n    id\n    __typename\n    ... on Collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var u=function(e,n){var i=(0,d.F)(),t="Collection"===(null==n?void 0:n.__typename)?null==n?void 0:n.colorPalette:null;return(0,s.ZI)(e,(0,s.zI)(e,i,t))},k=function(e){var n=e.customStyleSheet,i=e.publisher,t=e.children,a=u(n,i);return o.createElement(r.f,{theme:a},t)},p=(0,l.Ps)(c(),s.L9),v=(0,l.Ps)(m(),s.Ui,s.VE)},9273:(e,n,i)=>{"use strict";i.d(n,{Q:()=>m});var t=i(319),a=i.n(t),l=i(27048),o=i(68216),d=i(54341),r=i(4088),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}}].concat(a()(l.W.definitions),a()(o.$m.definitions),a()(d.O.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReadNextPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(s.definitions),a()(o.nf.definitions),a()(r.u.definitions))}},57189:(e,n,i)=>{"use strict";i.d(n,{N:()=>S});var t=i(67294),a=i(25145),l=i(68427),o=i(84739),d=i(12643),r=i(4381),s=i(17193),m=i(28695),c=i(93310),u=i(27323),k=i(77355),p=i(26244),v=i(87691),f=i(52069),V=i(14646),g=i(46696),S=function(e){var n,i,S,N=e.post,F=e.withFixedWidth,h=void 0===F||F,E=N&&N.previewImage||{},y=E.focusPercentX,x=E.focusPercentY,b=E.id,P=E.alt,w=N.collection,_=N.creator,A=null!==(n=null==N?void 0:N.title)&&void 0!==n?n:"",T=(0,a.L)(N),C=null!==(i=null==w?void 0:w.name)&&void 0!==i?i:null,I=(0,l.B)(),R=(0,o.I)();_&&(S=R(_));var D=b?"170px":"".concat(226,"px"),B=(0,V.I)(),M=(0,t.useCallback)((function(){return _&&t.createElement(m.K,{user:_})}),[_]);return t.createElement(u.P,{href:T},t.createElement(k.x,{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"24px"},t.createElement(k.x,{display:"flex",flexDirection:"row",justifyContent:"space-between"},t.createElement(k.x,{display:"flex",flexDirection:"column",marginRight:"24px",flexGrow:"1",flexBasis:"0%"},_&&t.createElement(k.x,{display:"flex",alignItems:"center",marginBottom:"8px"},t.createElement(k.x,{marginRight:"8px"},t.createElement(c.r,{href:S},t.createElement(s.Yt,{scale:"XXXS",user:_}))),t.createElement(k.x,{paddingRight:"4px"},t.createElement(p.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:M},t.createElement(k.x,{display:"flex"},t.createElement(c.r,{href:S},t.createElement(v.F,{scale:"S",color:"DARKER",clamp:1},_.name))))),w&&w.name&&t.createElement(t.Fragment,null,t.createElement(k.x,{paddingRight:"4px"},t.createElement(v.F,{scale:"S",color:"LIGHTER"},"in")),t.createElement(k.x,null,t.createElement(c.r,{href:I(w)},t.createElement(v.F,{scale:"S",color:"DARKER",clamp:1},C))))),A&&t.createElement(f.Dx,{scale:"XS",clamp:3},t.createElement("div",{className:h?B({width:D}):void 0},A))),t.createElement(k.x,{width:"56px"},b&&t.createElement(d.G,{height:1,width:1},t.createElement(r.UV,{miroId:b,alt:P||"",aspectRatio:r.Pr.Square,strategy:g._S.Crop,width:56,rules:{borderRadius:"2px"},focusPercentX:y||50,focusPercentY:x||50,freezeGifs:!0}))))))}},6223:(e,n,i)=>{"use strict";i.d(n,{L:()=>o});var t=i(68356),a=i.n(t),l=i(50742),o=a()({loader:function(){return Promise.all([i.e(4792),i.e(7084),i.e(8537),i.e(3551),i.e(9104),i.e(7417)]).then(i.bind(i,71026))},modules:["src/components/responses/post/ThreadedResponsesSidebar"],webpack:function(){return[71026]},loading:function(){return null},render:(0,l.n)("ThreadedResponsesSidebar")})},92258:(e,n,i)=>{"use strict";i.d(n,{k:()=>m});var t=i(63038),a=i.n(t),l=i(67294),o=i(6722),d=i(6223),r=i(43242),s=i(80745),m=function(e){var n=e.children,i=e.post,t=e.preload,m=void 0===t||t,c=(0,l.useState)(void 0),u=a()(c,2),k=u[0],p=u[1],v=(0,l.useCallback)((function(e){return function(n){p(n),e()}}),[]);return l.createElement(r.E,{preload:m},(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,m=e.isVisible,c=e.continueThisThreadPosts,u=e.openSidebar,f=e.cleanupSidebar;return l.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:v(u)}},!!i&&a&&l.createElement(d.L,{isResponsesSidebarVisible:m&&0===c.length,parentPost:i,inResponseToQuote:k,setInResponseToQuote:p,showPreviousSidebar:t,cleanupSidebar:f,initialSidebarRender:!!r.current}),!!i&&a&&c.map((function(e,n,a){var o=(0,s.iI)(n);return l.createElement(d.L,{key:i.id,isResponsesSidebarVisible:m&&n===a.length-1,parentPost:i,inResponseToQuote:k,setInResponseToQuote:p,continueThisThreadPost:e,continueThisThreadPostDepth:o,showPreviousSidebar:t,cleanupSidebar:f,initialSidebarRender:!!r.current})})),n)}))}},43242:(e,n,i)=>{"use strict";i.d(n,{E:()=>v});var t=i(319),a=i.n(t),l=i(63038),o=i.n(l),d=i(38125),r=i.n(d),s=i(67294),m=i(6223),c=i(21232),u=i(31889),k=i(34135),p=i(77280),v=function(e){var n=e.preload,i=e.children,t=s.useState(!1),l=o()(t,2),d=l[0],v=l[1],f=(0,u.F)(),V=!!(0,p.Wd)("responsesOpen"),g=s.useState(!1),S=o()(g,2),N=S[0],F=S[1],h=s.useRef(!0),E=s.useRef(0),y=s.useState(!1),x=o()(y,2),b=x[0],P=x[1],w=s.useCallback((function(){return F(!0)}),[]),_=s.useState([]),A=o()(_,2),T=A[0],C=A[1],I=s.useCallback((function(e){h.current=!1,C([].concat(a()(T),[e]))}),[T]),R=s.useCallback((function(){C(r()(T))}),[T]),D=s.useCallback((function(){F(!1),C([]),h.current=!0}),[]);s.useEffect((function(){P(!0),F(V)}),[V]);var B=function(){window.innerWidth<f.breakpoints.md&&v(!0)};return s.useEffect((function(){return B(),k.V6.on("resize",B),function(){return k.V6.off("resize",B)}}),[]),s.useEffect((function(){var e,n,i=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return d&&null!=i&&i.style&&(N?(i.style.top="-".concat(E.current,"px"),E.current=i.scrollTop,i.style.overflow="hidden",i.style.position="fixed"):(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=E.current)),function(){d&&null!=i&&i.style&&(i.style.overflow="",i.style.position="",i.style.top="",i.scrollTop=E.current)}}),[N]),s.useEffect((function(){n&&m.L.preload()}),[n]),s.createElement(c.f.Provider,{value:{addContinueThisThreadSidebar:I,openSidebar:w,closeSidebar:D}},i({showPreviousSidebar:R,hasLoaded:b,initialSidebarRender:h,isVisible:N,continueThisThreadPosts:T,openSidebar:w,cleanupSidebar:D}))}},15855:(e,n,i)=>{"use strict";i.d(n,{E:()=>o});var t=i(319),a=i.n(t),l=i(57572),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SharePostButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButton_post"}}]}}].concat(a()(l.o.definitions))}},28451:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))},15013:(e,n,i)=>{"use strict";i.d(n,{h:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5423.cc9ce583.chunk.js.map