jQuery.cookie=function(e,b,a){var f,c,d,g;return arguments.length>1&&(b===null||typeof b!="object")?(a=jQuery.extend({},a),b===null&&(a.expires=-1),typeof a.expires=='number'&&(f=a.expires,c=a.expires=new Date,c.setDate(c.getDate()+f)),document.cookie=[encodeURIComponent(e),'=',a.raw?String(b):encodeURIComponent(String(b)),a.expires?'; expires='+a.expires.toUTCString():'',a.path?'; path='+a.path:'',a.domain?'; domain='+a.domain:'',a.secure?'; secure':''].join('')):(a=b||{},g=a.raw?function(a){return a}:decodeURIComponent,(d=new RegExp('(?:^|; )'+encodeURIComponent(e)+'=([^;]*)').exec(document.cookie))?g(d[1]):null)},function(a){function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(c){var l,g,j,e,h,i,n,m,d,f,o,p,k,r;function q(){var g,e,m,v,j,h,f,i,o,k,n,p,w,r,s,t,u;function l(){var c,d,g,k,m,n,q;if(!f.aborted){if(c=h.contentWindow?h.contentWindow.document:h.contentDocument?h.contentDocument:h.document,!c||c.location.href==e.iframeSrc)if(!o)return;h.detachEvent?h.detachEvent("onload",l):h.removeEventListener("load",l,!1),d=!0;try{if(o)throw"timeout";if(g=e.dataType=="xml"||c.XMLDocument||a.isXMLDoc(c),b("isXml="+g),!g&&window.opera&&(c.body==null||c.body.innerHTML=="")&&--r){b("requeing onLoad callback, DOM not available"),setTimeout(l,250);return}f.responseText=c.body?c.body.innerHTML:c.documentElement?c.documentElement.innerHTML:null,f.responseXML=c.XMLDocument?c.XMLDocument:c,f.getResponseHeader=function(a){var b={"content-type":e.dataType};return b[a]},k=/(json|script)/.test(e.dataType),k||e.textarea?(m=c.getElementsByTagName("textarea")[0],m?f.responseText=m.value:k&&(n=c.getElementsByTagName("pre")[0],q=c.getElementsByTagName("body")[0],n?f.responseText=n.textContent:q&&(f.responseText=q.innerHTML))):e.dataType=="xml"&&!f.responseXML&&f.responseText!=null&&(f.responseXML=s(f.responseText)),p=u(f,e.dataType,e)}catch(c){b("error caught:",c),d=!1,f.error=c,e.error&&e.error.call(e.context,f,"error",c),i&&a.event.trigger("ajaxError",[f,e,c])}f.aborted&&(b("upload aborted"),d=!1),d&&(e.success&&e.success.call(e.context,p,"success",f),i&&a.event.trigger("ajaxSuccess",[f,e])),i&&a.event.trigger("ajaxComplete",[f,e]),i&&!--a.active&&a.event.trigger("ajaxStop"),e.complete&&e.complete.call(e.context,f,d?"success":"error"),setTimeout(function(){j.removeData("form-plugin-onload"),j.remove(),f.responseXML=null},100)}}function q(){var b=d.attr("target"),i=d.attr("action"),c,f;g.setAttribute("target",m),g.getAttribute("method")!="POST"&&g.setAttribute("method","POST"),g.getAttribute("action")!=e.url&&g.setAttribute("action",e.url),e.skipEncodingOverride||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),e.timeout&&setTimeout(function(){o=!0,l()},e.timeout),c=[];try{if(e.extraData)for(f in e.extraData)c.push(a('<input type="hidden" name="'+f+'" value="'+e.extraData[f]+'" />').appendTo(g)[0]);j.appendTo("body"),h.attachEvent?h.attachEvent("onload",l):h.addEventListener("load",l,!1),g.submit()}finally{g.setAttribute("action",i),b?g.setAttribute("target",b):d.removeAttr("target"),a(c).remove()}}if(g=d[0],a(":input[name=submit],:input[id=submit]",g).length)alert('Error: Form elements must not have name or id of "submit".');else{if(e=a.extend(!0,{},a.ajaxSettings,c),e.context=e.context||e,m="jqFormIO"+(new Date).getTime(),v="_"+m,j=a('<iframe id="'+m+'" name="'+m+'" src="'+e.iframeSrc+'" />'),h=j[0],j.css({position:"absolute",top:"-1000px",left:"-1000px"}),f={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){b("aborting upload...");var c="aborted";this.aborted=1,j.attr("src",e.iframeSrc),f.error=c,e.error&&e.error.call(e.context,f,"error",c),i&&a.event.trigger("ajaxError",[f,e,c]),e.complete&&e.complete.call(e.context,f,"error")}},i=e.global,i&&!a.active++&&a.event.trigger("ajaxStart"),i&&a.event.trigger("ajaxSend",[f,e]),e.beforeSend&&e.beforeSend.call(e.context,f,e)===!1){e.global&&a.active--;return}if(f.aborted)return;o=0,k=g.clk,k&&(n=k.name,n&&!k.disabled&&(e.extraData=e.extraData||{},e.extraData[n]=k.value,k.type=="image"&&(e.extraData[n+".x"]=g.clk_x,e.extraData[n+".y"]=g.clk_y))),e.forceSync?q():setTimeout(q,10),r=50,s=a.parseXML||function(b,a){return window.ActiveXObject?(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b)):a=(new DOMParser).parseFromString(b,"text/xml"),a&&a.documentElement&&a.documentElement.nodeName!="parsererror"?a:null},t=a.parseJSON||function(a){return window.eval("("+a+")")},u=function(d,c,e){var f=d.getResponseHeader("content-type")||"",g=c==="xml"||!c&&f.indexOf("xml")>=0,b=g?d.responseXML:d.responseText;return g&&b.documentElement.nodeName==="parsererror"&&a.error&&a.error("parsererror"),e&&e.dataFilter&&(b=e.dataFilter(b,c)),typeof b=="string"&&(c==="json"||!c&&f.indexOf("json")>=0?b=t(b):(c==="script"||!c&&f.indexOf("javascript")>=0)&&a.globalEval(b)),b}}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;if(typeof c=="function"&&(c={success:c}),l=this.attr("action"),g=typeof l=="string"?a.trim(l):"",g&&(g=(g.match(/^([^#]+)/)||[])[1]),g=g||window.location.href||"",c=a.extend(!0,{url:g,success:a.ajaxSettings.success,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c),j={},this.trigger("form-pre-serialize",[this,c,j]),j.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(i=this.formToArray(c.semantic),c.data){c.extraData=c.data;for(e in c.data)if(c.data[e]instanceof Array)for(n in c.data[e])i.push({name:e,value:c.data[e][n]});else h=c.data[e],h=a.isFunction(h)?h():h,i.push({name:e,value:h})}return c.beforeSubmit&&c.beforeSubmit(i,this,c)===!1?(b("ajaxSubmit: submit aborted via beforeSubmit callback"),this):(this.trigger("form-submit-validate",[i,this,c,j]),j.veto)?(b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this):(m=a.param(i),c.type.toUpperCase()=="GET"?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+m,c.data=null):c.data=m,d=this,f=[],c.resetForm&&f.push(function(){d.resetForm()}),c.clearForm&&f.push(function(){d.clearForm()}),!c.dataType&&c.target?(o=c.success||function(){},f.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(o,arguments)})):c.success&&f.push(c.success),c.success=function(b,e,g){for(var h=c.context||c,a=0,i=f.length;a<i;a++)f[a].apply(h,[b,e,g||d,d])},p=a("input:file",this).length>0,k="multipart/form-data",r=d.attr("enctype")==k||d.attr("encoding")==k,c.iframe!==!1&&(p||c.iframe||r)?c.closeKeepAlive?a.get(c.closeKeepAlive,q):q():a.ajax(c),this.trigger("form-submit-notify",[this,c]),this)},a.fn.ajaxForm=function(d){if(this.length===0){var c={s:this.selector,c:this.context};return!a.isReady&&c.s?(b("DOM not ready, queuing ajaxForm"),a(function(){a(c.s,c.c).ajaxForm(d)}),this):(b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(b){b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(d))}).bind("click.form-plugin",function(c){var d=c.target,e=a(d),f,b,g;if(!e.is(":submit,input:image")){if(f=e.closest(":submit"),f.length==0)return;d=f[0]}b=this,b.clk=d,d.type=="image"&&(c.offsetX!=void 0?(b.clk_x=c.offsetX,b.clk_y=c.offsetY):typeof a.fn.offset=="function"?(g=e.offset(),b.clk_x=c.pageX-g.left,b.clk_y=c.pageY-g.top):(b.clk_x=c.pageX-d.offsetLeft,b.clk_y=c.pageY-d.offsetTop)),setTimeout(function(){b.clk=b.clk_x=b.clk_y=null},100)})},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(i){var d=[],c,j,g,h,b,e,f,l,m,n,k;if(this.length===0)return d;if(c=this[0],j=i?c.getElementsByTagName("*"):c.elements,!j)return d;for(g=0,l=j.length;g<l;g++){if(f=j[g],b=f.name,!b)continue;if(i&&c.clk&&f.type=="image"){!f.disabled&&c.clk==f&&(d.push({name:b,value:a(f).val()}),d.push({name:b+".x",value:c.clk_x},{name:b+".y",value:c.clk_y}));continue}if(e=a.fieldValue(f,!0),e&&e.constructor==Array)for(h=0,m=e.length;h<m;h++)d.push({name:b,value:e[h]});else e!==null&&typeof e!="undefined"&&d.push({name:b,value:e})}return!i&&c.clk&&(n=a(c.clk),k=n[0],b=k.name,b&&!k.disabled&&k.type=="image"&&(d.push({name:b,value:n.val()}),d.push({name:b+".x",value:c.clk_x},{name:b+".y",value:c.clk_y}))),d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(c){var b=[];return this.each(function(){var f=this.name,d,e,g;if(!!f)if(d=a.fieldValue(this,c),d&&d.constructor==Array)for(e=0,g=d.length;e<g;e++)b.push({name:f,value:d[e]});else d!==null&&typeof d!="undefined"&&b.push({name:this.name,value:d})}),a.param(b)},a.fn.fieldValue=function(e){for(var c=[],d=0,f=this.length,g,b;d<f;d++){if(g=this[d],b=a.fieldValue(g,e),b===null||typeof b=="undefined"||b.constructor==Array&&!b.length)continue;b.constructor==Array?a.merge(c,b):c.push(b)}return c},a.fieldValue=function(b,i){var n=b.name,c=b.type,l=b.tagName.toLowerCase(),g,j,k,h,m,f,d,e;if(i===void 0&&(i=!0),i&&(!n||b.disabled||c=="reset"||c=="button"||(c=="checkbox"||c=="radio")&&!b.checked||(c=="submit"||c=="image")&&b.form&&b.form.clk!=b||l=="select"&&b.selectedIndex==-1))return null;if(l=="select"){if(g=b.selectedIndex,g<0)return null;j=[],k=b.options,h=c=="select-one",m=h?g+1:k.length;for(f=h?g:0;f<m;f++)if(d=k[f],d.selected){if(e=d.value,e||(e=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),h)return e;j.push(e)}return j}return a(b).val()},a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})},a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();a=="text"||a=="password"||b=="textarea"?this.value="":a=="checkbox"||a=="radio"?this.checked=!1:b=="select"&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return a===void 0&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return b===void 0&&(b=!0),this.each(function(){var d=this.type,c;d=="checkbox"||d=="radio"?this.checked=b:this.tagName.toLowerCase()=="option"&&(c=a(this).parent("select"),b&&c[0]&&c[0].type=="select-one"&&c.find("option").selected(!1),this.selected=b)})}}(jQuery),function(a){Drupal.ajax=Drupal.ajax||{},Drupal.settings.urlIsAjaxTrusted=Drupal.settings.urlIsAjaxTrusted||{},Drupal.behaviors.AJAX={attach:function(e,d){var b,c;for(b in d.ajax)a('#'+b+'.ajax-processed').length||(c=d.ajax[b],typeof c.selector=='undefined'&&(c.selector='#'+b),a(c.selector).each(function(){c.element=this,Drupal.ajax[b]=new Drupal.ajax(b,this,c)}),a('#'+b).addClass('ajax-processed'));a('.use-ajax:not(.ajax-processed)').addClass('ajax-processed').each(function(){var b={},c;b.progress={type:'throbber'},a(this).attr('href')&&(b.url=a(this).attr('href'),b.event='click'),c=a(this).attr('id'),Drupal.ajax[c]=new Drupal.ajax(c,this,b)}),a('.use-ajax-submit:not(.ajax-processed)').addClass('ajax-processed').each(function(){var b={},c;b.url=a(this.form).attr('action'),b.setClick=!0,b.event='click',b.progress={type:'throbber'},c=a(this).attr('id'),Drupal.ajax[c]=new Drupal.ajax(c,this,b)})}},Drupal.ajax=function(d,e,c){var f={url:'system/ajax',event:'mousedown',keypress:!0,selector:'#'+d,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:!0}},b;a.extend(this,f,c),this.element=e,this.element_settings=c,this.url=c.url.replace(/\/nojs(\/|$|\?|&|#)/g,'/ajax$1'),Drupal.settings.urlIsAjaxTrusted[c.url]&&(Drupal.settings.urlIsAjaxTrusted[this.url]=!0),this.wrapper='#'+c.wrapper,this.element.form&&(this.form=a(this.element.form)),b=this,b.options={url:Drupal.sanitizeAjaxUrl(b.url),data:b.submit,beforeSerialize:function(a,c){return b.beforeSerialize(a,c)},beforeSubmit:function(a,c,d){return b.ajaxing=!0,b.beforeSubmit(a,c,d)},beforeSend:function(a,c){return b.ajaxing=!0,b.beforeSend(a,c)},success:function(c,e,d){if(typeof c=='string'&&(c=a.parseJSON(c)),c!==null&&!Drupal.settings.urlIsAjaxTrusted[b.url])if(d.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var f=Drupal.t("The response failed verification so will not be processed.");return b.error(d,b.url,f)}return b.success(c,e)},complete:function(c,a){if(b.ajaxing=!1,a=='error'||a=='parsererror')return b.error(c,b.url)},dataType:'json',jsonp:!1,type:'POST'},navigator.userAgent.indexOf("MSIE")===-1&&(b.options.iframeSrc='about:blank'),a(b.element).bind(c.event,function(a){if(!Drupal.settings.urlIsAjaxTrusted[b.url]&&!Drupal.urlIsLocal(b.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':b.url}));return b.eventResponse(this,a)}),c.keypress&&a(b.element).keypress(function(a){return b.keypressResponse(this,a)}),c.prevent&&a(b.element).bind(c.prevent,!1)},Drupal.ajax.prototype.keypressResponse=function(b,c){var d=this;if(c.which==13||c.which==32&&b.type!='text'&&b.type!='textarea')return a(d.element_settings.element).trigger(d.element_settings.event),!1},Drupal.ajax.prototype.eventResponse=function(c,d){var b=this;if(b.ajaxing)return!1;try{b.form?(b.setClick&&(c.form.clk=c),b.form.ajaxSubmit(b.options)):(b.beforeSerialize(b.element,b.options),a.ajax(b.options))}catch(a){b.ajaxing=!1,alert("An error occurred while attempting to process "+b.options.url+": "+a.message)}return!!(typeof c.type!='undefined'&&(c.type=='checkbox'||c.type=='radio'))},Drupal.ajax.prototype.beforeSerialize=function(e,b){var d,c;this.form&&(d=this.settings||Drupal.settings,Drupal.detachBehaviors(this.form,d,'serialize')),b.data['ajax_html_ids[]']=[],a('[id]').each(function(){b.data['ajax_html_ids[]'].push(this.id)}),b.data['ajax_page_state[theme]']=Drupal.settings.ajaxPageState.theme,b.data['ajax_page_state[theme_token]']=Drupal.settings.ajaxPageState.theme_token;for(c in Drupal.settings.ajaxPageState.css)b.data['ajax_page_state[css]['+c+']']=1;for(c in Drupal.settings.ajaxPageState.js)b.data['ajax_page_state[js]['+c+']']=1},Drupal.ajax.prototype.beforeSubmit=function(a,b,c){},Drupal.ajax.prototype.beforeSend=function(e,c){var d,b;this.form&&(c.extraData=c.extraData||{},c.extraData.ajax_iframe_upload='1',d=a.fieldValue(this.element),d!==null&&(c.extraData[this.element.name]=Drupal.checkPlain(d))),a(this.element).addClass('progress-disabled').attr('disabled',!0),this.progress.type=='bar'?(b=new Drupal.progressBar('ajax-progress-'+this.element.id,eval(this.progress.update_callback),this.progress.method,eval(this.progress.error_callback)),this.progress.message&&b.setProgress(-1,this.progress.message),this.progress.url&&b.startMonitoring(this.progress.url,this.progress.interval||1500),this.progress.element=a(b.element).addClass('ajax-progress ajax-progress-bar'),this.progress.object=b,a(this.element).after(this.progress.element)):this.progress.type=='throbber'&&(this.progress.element=a('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>'),this.progress.message&&a('.throbber',this.progress.element).after('<div class="message">'+this.progress.message+'</div>'),a(this.element).after(this.progress.element))},Drupal.ajax.prototype.success=function(b,e){var c,d;this.progress.element&&a(this.progress.element).remove(),this.progress.object&&this.progress.object.stopMonitoring(),a(this.element).removeClass('progress-disabled').removeAttr('disabled'),Drupal.freezeHeight();for(c in b)b.hasOwnProperty(c)&&b[c].command&&this.commands[b[c].command]&&this.commands[b[c].command](this,b[c],e);this.form&&(d=this.settings||Drupal.settings,Drupal.attachBehaviors(this.form,d)),Drupal.unfreezeHeight(),this.settings=null},Drupal.ajax.prototype.getEffect=function(c){var b=c.effect||this.effect,d=c.speed||this.speed,a={};return b=='none'?(a.showEffect='show',a.hideEffect='hide',a.showSpeed=''):b=='fade'?(a.showEffect='fadeIn',a.hideEffect='fadeOut',a.showSpeed=d):(a.showEffect=b+'Toggle',a.hideEffect=b+'Toggle',a.showSpeed=d),a},Drupal.ajax.prototype.error=function(b,c,d){if(Drupal.displayAjaxError(Drupal.ajaxError(b,c,d)),this.progress.element&&a(this.progress.element).remove(),this.progress.object&&this.progress.object.stopMonitoring(),a(this.wrapper).show(),a(this.element).removeClass('progress-disabled').removeAttr('disabled'),this.form){var e=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,e)}},Drupal.ajax.prototype.commands={insert:function(e,c,j){var g=c.selector?a(c.selector):a(e.wrapper),h=c.method||e.method,d=e.getEffect(c),i=a('<div></div>').html(c.data),b=i.contents(),f;switch((b.length!=1||b.get(0).nodeType!=1)&&(b=i),h){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':f=c.settings||e.settings||Drupal.settings,Drupal.detachBehaviors(g,f)}g[h](b),d.showEffect!='show'&&b.hide(),a('.ajax-new-content',b).length>0?(a('.ajax-new-content',b).hide(),b.show(),a('.ajax-new-content',b)[d.showEffect](d.showSpeed)):d.showEffect!='show'&&b[d.showEffect](d.showSpeed),b.parents('html').length>0&&(f=c.settings||e.settings||Drupal.settings,Drupal.attachBehaviors(b,f))},remove:function(c,b,e){var d=b.settings||c.settings||Drupal.settings;Drupal.detachBehaviors(a(b.selector),d),a(b.selector).remove()},changed:function(c,b,d){a(b.selector).hasClass('ajax-changed')||(a(b.selector).addClass('ajax-changed'),b.asterisk&&a(b.selector).find(b.asterisk).append(' <span class="ajax-changed">*</span> '))},alert:function(b,a,c){alert(a.text,a.title)},css:function(c,b,d){a(b.selector).css(b.argument)},settings:function(c,b,d){b.merge?a.extend(!0,Drupal.settings,b.settings):c.settings=b.settings},data:function(c,b,d){a(b.selector).data(b.name,b.value)},invoke:function(d,b,e){var c=a(b.selector);c[b.method].apply(c,b.arguments)},restripe:function(c,b,d){a('> tbody > tr:visible, > tr:visible',a(b.selector)).removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even')},add_css:function(e,b,f){a('head').prepend(b.data);var d,c=/^@import url\("(.*)"\);$/igm;if(document.styleSheets[0].addImport&&c.test(b.data))for(c.lastIndex=0;d=c.exec(b.data);)document.styleSheets[0].addImport(d[1])},updateBuildId:function(c,b,d){a('input[name="form_build_id"][value="'+b.old+'"]').val(b.new)}}}(jQuery),function(a){var b=a.ajax.prototype.beforeSerialize;a.ajax.prototype.beforeSerialize=function(d,c){b.call(this,d,c),c.data['ajax_page_state[jquery_version]']=a.settings.ajaxPageState.jquery_version}}(Drupal)